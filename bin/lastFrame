#!/bin/bash

# blurp last frame from video to ascii


# source config file which includes tmpdir generator and timer
config="$HOME/bin/singularity.cfg"
test -f "$config" && source "$config" || { echo "$config does not exist" ; exit 1; }

while [ $# -gt 0 ]; do

    # echo the file
    echo "$1"
    # blurp frame
    ffmpeg -hide_banner -loglevel error -sseof -1 -i "$1" -update 1 -q:v 1 "$tmpdir/last.png" -y && img2txt -f utf8 -d fstein -W 100 "$tmpdir/last.png"
   
    echo; echo

    shift
done

stty sane


