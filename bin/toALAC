#!/bin/bash

# toALAC: encode given files to ALAC
# usage: toALAC *.wav

if [ $# -eq 0 ]; then
    echo "Usage: toALAC *.wav"
    exit 1
fi

for f in "$@"; do
    [ -f "$f" ] || { echo "Skipping: $f (not a file)"; continue; }
    base="${f%.*}"             # filename without extension
    out="${base}.alac.m4a"
    echo "Encoding: $f -> $out"
    ffmpeg -y -hide_banner -loglevel quiet -i "$f" -c:a alac "$out"
done